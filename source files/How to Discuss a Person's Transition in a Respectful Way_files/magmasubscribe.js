(window.webpackJsonp=window.webpackJsonp||[]).push([["magmasubscribe"],{"19/H":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMailingLists=function(e){var t=u((0,l.useState)(null),2),n=t[0],r=t[1];return(0,l.useEffect)(function(){if(e){var t=(0,a.default)(e);t.length&&r(t)}},[e]),n},t.useNewsletters=function(e,t){var n=u((0,l.useState)(null),2),r=n[0],a=n[1];return(0,l.useEffect)(function(){if(e&&e.length&&null===r){var n=e.map(function(e){return e.id});a(n)}else null===r&&a([t.properties.campaignMonitorNewsletterName])},[e,r,t.properties.campaignMonitorNewsletterName]),[r,function(e){var t,n=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(t=r)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}(),l=n.indexOf(e);l>-1?n.splice(l,1):n.push(e),a(n)}]};var r,l=n("mXGw"),a=(r=n("s0H5"))&&r.__esModule?r:{default:r};function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,l=!1,a=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(l)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}},lAmq:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=h(n("NthX")),l=y(n("mXGw")),a=h(n("08Bb")),u=h(n("Ymb9")),o=n("X/7L"),i=h(n("mx0i")),c=n("/AUS"),f=n("EBeH"),s=n("19/H"),d=h(n("J7no")),m=n("2BOI"),p=h(n("le34")),b=y(n("eGBY")),v=h(n("vY2D")),E=h(n("2W1i"));function y(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t,n,r,l,a,u){try{var o=e[a](u),i=o.value}catch(e){return void n(e)}o.done?t(i):Promise.resolve(i).then(r,l)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,l=!1,a=void 0;try{for(var u,o=e[Symbol.iterator]();!(r=(u=o.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){l=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(l)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var S=function(e){var t=e.blog,n=e.features,y=e.sourceId,h=e.withSubscriptionAPI,S=e.doubleOptIn,_=t.blogGroup,O=t.name,C=n&&n.newsletter_footer_use_inline_form,I=t&&t.blogGroup,x=w((0,l.useState)(""),2),N=x[0],T=x[1],A=(0,s.useMailingLists)(I),M=w((0,s.useNewsletters)(A,t),2),P=M[0],j=M[1],k=w((0,l.useState)(""),2),Y=k[0],F=k[1],L=w((0,l.useState)(!1),2),B=L[0],G=L[1],H=w((0,l.useState)(!1),2),R=H[0],U=H[1];(0,l.useEffect)(function(){P&&0===P.length?F(f.NEWSLETTER_ERROR_EMPTY_SELECTION):F("")},[P]);var D,W,X=(Q=r.default.mark(function e(){var t,n,l;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,G(!0),t={email:N,referralSource:document.referrer,referralUrl:document.location.href,sourceId:y,newsletters:P},e.next=5,b.subscribe(t,h);case 5:G(!1),n="Success",P&&P.length>0&&A&&A.length>0&&(l=P.map(function(e){return A.find(function(t){return t.id===e})}),n+=" | ".concat(l.map(function(e){return e&&e.name}).join(", "))),(0,c.sendGa)(["Newsletter","Sign Up - Footer",n,{metric27:1}]),U(!0),E.default.set(f.COOKIE_DISMISS_PERMANENTLY,!0),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),G(!1),U(!1),console.error(e.t0);case 18:case"end":return e.stop()}},e,this,[[0,13]])}),V=function(){var e=this,t=arguments;return new Promise(function(n,r){var l=Q.apply(e,t);function a(e){g(l,n,r,a,u,"next",e)}function u(e){g(l,n,r,a,u,"throw",e)}a(void 0)})},function(){return V.apply(this,arguments)}),J=function(e){return e?l.default.createElement(o.MailingContainer,null,e.map(function(e){return l.default.createElement(m.Checkbox,{key:e.key,name:e.id,checked:P&&P.indexOf(e.id)>-1,label:e.name,onChange:function(){return t=e.id,void j(t);var t},inlineHelp:e.description})})):null},q=-1!==["earther","io9"].indexOf(O)?O:_,z=Boolean(n.newsletter_subdomain_themes_buttons&&-1!==["io9","jezebel"].indexOf(q)),K=S?"Thanks for subscribing! You should receive a confirmation email shortly":"You are signed up!";var Q,V;return l.default.createElement(a.default,{blog:z?"".concat(q,"-stage"):q},C?l.default.createElement(o.InlineFormFooterWrapper,null,l.default.createElement(o.InlineFormContainer,null,l.default.createElement(o.InlineSubscribeContent,null,l.default.createElement(o.InlineSubscribeToOurNewsletter,null,"Subscribe to our newsletter!"),!B&&R&&l.default.createElement(o.SuccessfulSignUp,null,"You are signed up!"),B&&l.default.createElement(o.LoaderContainer,null,l.default.createElement(v.default,null)),!B&&!R&&l.default.createElement(l.default.Fragment,null,null!==A&&null!==P&&l.default.createElement(o.InlineFormMailingContainerWrapper,null,J(A)),l.default.createElement(o.InlineEmailInputContainer,null,l.default.createElement(m.Textfield18,{className:"email-input-text",name:"inline-footer-form",label:"Type your email",description:"Type your email",value:N,onChange:T,type:"email",error:Y}),l.default.createElement(i.default,{className:"subscribe-button",label:"Sign me up",onClick:X,disabled:!N||!(0,c.validateEmail)(N)})),l.default.createElement(o.TermsAndPrivacyContent,null))))):l.default.createElement(o.FooterFormContainer,null,l.default.createElement(o.HeaderContainer,null,l.default.createElement(o.BlogLogoContainer,null,l.default.createElement(d.default,{name:q,monochrome:!0,scale:.5}))),l.default.createElement(o.SubscribeContent,null,l.default.createElement(o.SubscribeToOurNewsletter,null,"Subscribe to our Newsletter!"),l.default.createElement(o.BlurbContainer,null,(0,u.default)(t)),!B&&R&&l.default.createElement(o.SuccessfulSignUp,null,K),B&&l.default.createElement(o.LoaderContainer,null,l.default.createElement(v.default,null)),!B&&!R&&l.default.createElement(l.default.Fragment,null,null!==A&&null!==P&&J(A),l.default.createElement(o.EmailInputContainer,null,l.default.createElement(m.Textfield18,{name:"newsletter_footer",label:"Your e-mail address",description:"Your e-mail address",value:N,onChange:function(e){return T(e)},type:"email",error:Y})),l.default.createElement(o.TermsAndPrivacyContent,null),l.default.createElement(o.SubscribeButtonContainer,null,l.default.createElement(p.default,{label:"Subscribe",onClick:X,disabled:!(N&&P&&(D=N,W=P,(0,c.validateEmail)(D)&&W&&0!==W.length))}))))))};t.default=S,e.exports=t.default},yPnx:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=((r=n("lAmq"))&&r.__esModule?r:{default:r}).default;t.default=l,e.exports=t.default}}]);